
// â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  æŒ‡æ¨™è¨‚ç«‹ signal
//"å¿«ç·šæ–œæ­£", fast_grow
fast_grow = macd > macd[1] and macd[1] < macd[2]

//"å¿«ç·šç¿»é›¶", bl_up_0
bl_up_0 = ta.crossover(macd,0)

//"ç¶ æ·±è½‰æ·º", green_turn_down
green_turn_down = hist >= 0  and hist[1] >= hist and hist[2] < hist[1]

//"å¿«ç·šè½æ…¢", fast_down_low
fast_down_low = ta.crossunder(macd , signal)  

//"å¿«ç·šç¿»æ…¢", fast_up_low
fast_up_low = ta.crossover(macd , signal) 

//"å¿«ç·šæ–œè² ", macd_slope_negative
macd_slope_negative = macd < macd[1] and macd[1] >= macd[2]

//"ç”±ç¶ è½‰ç´…", hist_green_to_red
hist_green_to_red = hist[1] >= 0 and hist < 0

//"ç”±ç´…è½‰ç¶ ", hist_red_to_green
hist_red_to_green = hist[1] < 0 and hist >= 0

//"è½‰ç‚ºæ·ºç´…", hist_turn_light_red
hist_turn_light_red = hist < 0 and hist > hist[1] and hist[1] <= hist[2]

//"è½‰ç‚ºæ·±ç´…", hist_turn_deep_red
hist_turn_deep_red = hist < 0 and hist < hist[1] and hist[1] >= hist[2]

//"æ…¢ç·šæ–œæ­£", signal_slope_positive
signal_slope_positive = signal > signal[1] and signal[1] < signal[2]

//"æ…¢ç·šæ–œè² " signal_slope_negative
signal_slope_negative = signal < signal[1] and signal[1] > signal[2]


// â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â– â–  æ¢ä»¶åˆ¤æ–·å‡½æ•¸ â– â– â– â– â– â– 

get_condition(condition_name) =>
    switch condition_name
        "å¿«ç·šæ–œæ­£" =>  fast_grow
        "å¿«ç·šç¿»é›¶" =>  bl_up_0
        "ç¶ æ·±è½‰æ·º" =>  green_turn_down
        "å¿«ç·šè½æ…¢" =>  fast_down_low
        "å¿«ç·šç¿»æ…¢" =>  fast_up_low
        "å¿«ç·šæ–œè² " =>  macd_slope_negative
        "ç”±ç¶ è½‰ç´…" =>  hist_green_to_red
        "ç”±ç´…è½‰ç¶ " =>  hist_red_to_green
        "è½‰ç‚ºæ·ºç´…" =>  hist_turn_light_red
        "è½‰ç‚ºæ·±ç´…" =>  hist_turn_deep_red
        "æ…¢ç·šæ–œæ­£" =>  signal_slope_positive
        "æ…¢ç·šæ–œè² " =>  signal_slope_negative
        => false


// â– â– â– â– â– â–  AæŒ‡æ¨™ ç´…è‰²é‘½çŸ³æ¨™è¨˜ è¨­å®š â– â– â– â– â– â– 
a_condition = input.string(title="ç´…è‰²é‘½çŸ³",
                           defval="ç„¡",
                           options=[ "ç„¡",
                                     "å¿«ç·šæ–œæ­£",
									 "å¿«ç·šç¿»é›¶",
									 "ç¶ æ·±è½‰æ·º",
									 "å¿«ç·šè½æ…¢",
									 "å¿«ç·šç¿»æ…¢",
									 "å¿«ç·šæ–œè² ",
									 "ç”±ç¶ è½‰ç´…",
									 "ç”±ç´…è½‰ç¶ ",
									 "è½‰ç‚ºæ·ºç´…",
									 "è½‰ç‚ºæ·±ç´…",
									 "æ…¢ç·šæ–œæ­£",
									 "æ…¢ç·šæ–œè² "
                                     ])

// â– â– â– â– â– â–  BæŒ‡æ¨™ è—è‰²æ——å¹Ÿæ¨™è¨˜ è¨­å®š â– â– â– â– â– â– 
b_condition = input.string(title="è—è‰²æ——å¹Ÿ",
                           defval="ç„¡",
                           options=[ "ç„¡",
                                     "å¿«ç·šæ–œæ­£",
									 "å¿«ç·šç¿»é›¶",
									 "ç¶ æ·±è½‰æ·º",
									 "å¿«ç·šè½æ…¢",
									 "å¿«ç·šç¿»æ…¢",
									 "å¿«ç·šæ–œè² ",
									 "ç”±ç¶ è½‰ç´…",
									 "ç”±ç´…è½‰ç¶ ",
									 "è½‰ç‚ºæ·ºç´…",
									 "è½‰ç‚ºæ·±ç´…",
									 "æ…¢ç·šæ–œæ­£",
									 "æ…¢ç·šæ–œè² "
                                     ])

// â– â– â– â– â– â–  CæŒ‡æ¨™ ç¶ è‰²ä¸‰è§’æ¨™è¨˜ è¨­å®š â– â– â– â– â– â– 
c_condition = input.string(title="ç¶ è‰²ä¸‰è§’",
                           defval="ç„¡",
                           options=[ "ç„¡",
                                     "å¿«ç·šæ–œæ­£",
									 "å¿«ç·šç¿»é›¶",
									 "ç¶ æ·±è½‰æ·º",
									 "å¿«ç·šè½æ…¢",
									 "å¿«ç·šç¿»æ…¢",
									 "å¿«ç·šæ–œè² ",
									 "ç”±ç¶ è½‰ç´…",
									 "ç”±ç´…è½‰ç¶ ",
									 "è½‰ç‚ºæ·ºç´…",
									 "è½‰ç‚ºæ·±ç´…",
									 "æ…¢ç·šæ–œæ­£",
									 "æ…¢ç·šæ–œè² "
                                     ])                           


// â– â– â– â– â– â–  AæŒ‡æ¨™è§¸ç™¼æ¢ä»¶ â– â– â– â– â– â– 
a_trigger = get_condition(a_condition)

// â– â– â– â– â– â–  BæŒ‡æ¨™è§¸ç™¼æ¢ä»¶ â– â– â– â– â– â– 
b_trigger = get_condition(b_condition)

// â– â– â– â– â– â–  CæŒ‡æ¨™è§¸ç™¼æ¢ä»¶ â– â– â– â– â– â– 
c_trigger = get_condition(c_condition)

// â– â– â– â– â– â–  æ¨™è¨˜é¡¯ç¤º â– â– â– â– â– â– 
// AæŒ‡æ¨™ ç´…è‰²é‘½çŸ³æ¨™è¨˜
plotshape(a_trigger, 
     style=shape.diamond, 
     location=location.abovebar, 
     color=color.red, 
     size=size.normal,
     title="AæŒ‡æ¨™ ç´…è‰²é‘½çŸ³")

// BæŒ‡æ¨™ è—è‰²æ——å¹Ÿæ¨™è¨˜
plotshape(b_trigger, 
     style=shape.flag, 
     location=location.abovebar, 
     color=color.blue, 
     size=size.normal,
     title="BæŒ‡æ¨™ è—è‰²æ——å¹Ÿ")

// CæŒ‡æ¨™ ç¶ è‰²ä¸‰è§’æ¨™è¨˜
plotshape(c_trigger, 
     style=shape.triangleup, 
     location=location.abovebar, 
     color=color.green, 
     size=size.normal,
     title="CæŒ‡æ¨™ ç¶ è‰²ä¸‰è§’")
	 
	 
	 
	 

var table info_table = table.new(position.top_right, 2, 4, bgcolor=color.white, border_width=1)

if barstate.islast
    table.cell(info_table, 0, 0, "æŒ‡æ¨™", text_color=color.black, bgcolor=color.gray)
    table.cell(info_table, 1, 0, "æ¢ä»¶", text_color=color.black, bgcolor=color.gray)
    
    table.cell(info_table, 0, 1, "AæŒ‡æ¨™ ğŸ”´", text_color=color.red, bgcolor=color.white)
    table.cell(info_table, 1, 1, a_condition, text_color=color.black, bgcolor=color.white)
    
    table.cell(info_table, 0, 2, "BæŒ‡æ¨™ ğŸ”µ", text_color=color.blue, bgcolor=color.white)
    table.cell(info_table, 1, 2, b_condition, text_color=color.black, bgcolor=color.white)
    
    table.cell(info_table, 0, 3, "CæŒ‡æ¨™ ğŸŸ¢", text_color=color.green, bgcolor=color.white)
    table.cell(info_table, 1, 3, c_condition, text_color=color.black, bgcolor=color.white)
